clear
close all;

lr = [0.000010
0.000012
0.000013
0.000015
0.000017
0.000020
0.000023
0.000027
0.000031
0.000035
0.000040
0.000047
0.000054
0.000062
0.000071
0.000081
0.000094
0.000108
0.000124
0.000142
0.000164
0.000188
0.000216
0.000249
0.000286
0.000329
0.000379
0.000435
0.000501
0.000576
0.000662
0.000761
0.000876
0.001007
0.001158
0.001332
0.001532
0.001761
0.002025
0.002329
0.002679
0.003080
0.003542
0.004074
0.004685
0.005388
0.006196
0.007125
0.008194
0.009423
0.010837
0.012462
0.014331
0.016481
0.018953
0.021796
0.025066
0.028826
0.033149
0.038122
0.043840
0.050416
0.057978
0.066675
0.076676
0.088178
0.101405
0.116615
0.134108
0.154224
0.177357
0.203961
0.234555
0.269738
0.310199
0.356729
0.410238
0.471774
0.542540
0.623921
0.717509
0.825135
0.948905
1.091241
1.254927
1.443166
1.659641
1.908588
2.194876
2.524107
2.902723
3.338132
3.838852
4.414679
5.076881
5.838413
6.714175
7.721302
8.879497
10.211421];

loss = [9.149921
9.126760
9.186289
9.160975
9.151996
9.132711
9.109859
9.169814
9.165313
9.211732
9.182269
9.171918
9.111623
9.133447
9.213554
9.120811
9.145526
9.133587
9.123292
9.141939
9.154777
9.163007
9.102066
9.127738
9.088059
9.125361
9.094800
9.110084
9.141666
9.053717
9.148094
9.074587
9.145306
9.081581
9.103006
9.019204
9.070496
8.955638
8.956285
9.019582
8.938298
8.909973
8.879803
8.710163
8.742504
8.728147
8.590936
8.586978
8.435483
8.406765
8.281099
8.258050
8.081192
8.003881
7.773036
7.659466
7.861878
7.050439
7.481853
7.053672
6.802113
6.337856
6.377913
5.936552
6.340136
5.499374
4.992028
5.245291
4.817789
5.653150
4.707159
4.310231
4.640112
5.276956
5.419266
4.951221
4.061867
4.578897
4.193484
4.599525
3.990838
5.275172
6.143041
5.056838
6.074022
7.157866
7.058842
7.350001
8.520012
9.320664
9.233681
9.301277
9.276398
9.210248
9.289718
9.338847
9.561856
9.467331
9.381557
9.547593
];

sma = 1;
derivatives = (loss(1+sma:end) - loss(1:end-sma))/sma;
derivatives = filter(ones(1,5)/5,1,derivatives);
figure();
semilogx(lr, loss);
figure();
semilogx(lr(2:end), derivatives)

