clear

lr = [0.000010
0.000012
0.000013
0.000015
0.000017
0.000020
0.000023
0.000027
0.000031
0.000035
0.000040
0.000047
0.000054
0.000062
0.000071
0.000081
0.000094
0.000108
0.000124
0.000142
0.000164
0.000188
0.000216
0.000249
0.000286
0.000329
0.000379
0.000435
0.000501
0.000576
0.000662
0.000761
0.000876
0.001007
0.001158
0.001332
0.001532
0.001761
0.002025
0.002329
0.002679
0.003080
0.003542
0.004074
0.004685
0.005388
0.006196
0.007125
0.008194
0.009423
0.010837
0.012462
0.014331
0.016481
0.018953
0.021796
0.025066
0.028826
0.033149
0.038122
0.043840
0.050416
0.057978
0.066675
0.076676
0.088178
0.101405
0.116615
0.134108
0.154224
0.177357
0.203961
0.234555
0.269738
0.310199
0.356729
0.410238
0.471774
0.542540
0.623921
0.717509
0.825135
0.948905
1.091241
1.254927
1.443166
1.659641
1.908588
2.194876
2.524107
2.902723
3.338132
3.838852
4.414679
5.076881
5.838413
6.714175
7.721302
8.879497
10.211421];

loss = [40.345909
40.407890
39.715286
40.511879
40.275913
40.539421
39.925194
40.278965
40.261887
39.951096
40.213257
40.380280
40.104485
39.639153
39.462902
39.715996
38.719063
38.501640
37.870232
38.049007
37.944756
37.353661
36.221420
37.207638
36.195862
35.958549
36.312916
35.191971
35.903076
34.775654
34.596458
35.513206
34.293697
34.165943
35.434731
33.270107
34.314735
33.283924
31.766520
32.037144
31.866865
31.400242
30.465933
31.121750
29.578182
28.980515
28.595673
28.147554
27.030807
26.156046
25.240788
24.609371
23.192593
21.174006
20.023144
18.830242
17.614510
16.405632
15.218871
14.079283
13.039997
12.103170
11.272966
10.585480
10.026716
9.607455
9.380188
9.172825
9.122923
9.022336
9.362761
9.059034
8.939719
8.902149
8.892401
8.890370
8.890041
8.890001
8.889997
8.889997
8.889997
8.889997
8.889997
8.889997
8.889997
8.889997
8.889997
8.889997
8.889997
8.889997
8.889997
8.889997
8.889997
8.889997
8.889997
8.889997
8.889997
8.889997
8.889997
8.889997];

sma = 1;
derivatives = (loss(1+sma:end) - loss(1:end-sma))/sma;
derivatives = filter(ones(1,5)/5,1,derivatives);
figure();
semilogx(lr, loss);
ylim([0 40])
figure();
semilogx(lr(2:end), derivatives)
ylim([-3 0])
