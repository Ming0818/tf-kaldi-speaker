clear
close all;

lr = [0.000010
0.000012
0.000013
0.000015
0.000017
0.000020
0.000023
0.000027
0.000031
0.000035
0.000040
0.000047
0.000054
0.000062
0.000071
0.000081
0.000094
0.000108
0.000124
0.000142
0.000164
0.000188
0.000216
0.000249
0.000286
0.000329
0.000379
0.000435
0.000501
0.000576
0.000662
0.000761
0.000876
0.001007
0.001158
0.001332
0.001532
0.001761
0.002025
0.002329
0.002679
0.003080
0.003542
0.004074
0.004685
0.005388
0.006196
0.007125
0.008194
0.009423
0.010837
0.012462
0.014331
0.016481
0.018953
0.021796
0.025066
0.028826
0.033149
0.038122
0.043840
0.050416
0.057978
0.066675
0.076676
0.088178
0.101405
0.116615
0.134108
0.154224
0.177357
0.203961
0.234555
0.269738
0.310199
0.356729
0.410238
0.471774
0.542540
0.623921
0.717509
0.825135
0.948905
1.091241
1.254927
1.443166
1.659641
1.908588
2.194876
2.524107
2.902723
3.338132
3.838852
4.414679
5.076881
5.838413
6.714175
7.721302
8.879497
10.211421];

loss = [0.167141
0.191675
0.166066
0.166662
0.195281
0.160947
0.160152
0.174525
0.158828
0.186135
0.173494
0.178953
0.207289
0.158020
0.150742
0.168983
0.154629
0.159908
0.161453
0.147652
0.142229
0.158055
0.174487
0.165265
0.162434
0.165883
0.154776
0.182537
0.158277
0.174571
0.170446
0.160736
0.168631
0.175874
0.180446
0.164386
0.170051
0.179645
0.182247
0.166226
0.192639
0.184397
0.174595
0.163794
0.168893
0.176637
0.198395
0.179790
0.182148
0.165754
0.172881
0.186465
0.180507
0.189038
0.180635
0.170955
0.197648
0.195807
0.178667
0.180175
0.177497
0.195071
0.190573
0.189010
0.200415
0.199117
0.204471
0.209949
0.193089
0.203602
0.225336
0.218399
0.220809
0.217561
0.200712
0.209021
0.207583
0.218611
0.217040
0.234258
0.204832
0.227342
0.201460
0.226424
0.227593
0.217130
0.234781
0.223828
0.232777
0.220087
0.223386
0.236953
0.219384
0.205473
0.231822
0.248868
0.213358
0.223376
0.213194
0.223402
];

sma = 1;
derivatives = (loss(1+sma:end) - loss(1:end-sma))/sma;
derivatives = filter(ones(1,5)/5,1,derivatives);
figure();
semilogx(lr, loss);
figure();
semilogx(lr(2:end), derivatives)

