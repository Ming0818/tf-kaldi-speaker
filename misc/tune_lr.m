clear

t = 1:99;
lr = [0.000100
0.000115
0.000132
0.000152
0.000175
0.000201
0.000231
0.000266
0.000306
0.000352
0.000405
0.000465
0.000535
0.000615
0.000708
0.000814
0.000936
0.001076
0.001238
0.001423
0.001637
0.001882
0.002164
0.002489
0.002863
0.003292
0.003786
0.004354
0.005007
0.005758
0.006621
0.007614
0.008757
0.010070
0.011580
0.013318
0.015315
0.017612
0.020254
0.023292
0.026786
0.030804
0.035425
0.040739
0.046850
0.053877
0.061958
0.071252
0.081940
0.094231
0.108366
0.124621
0.143314
0.164811
0.189532
0.217962
0.250657
0.288255
0.331493
0.381217
0.438400
0.504160
0.579784
0.666751
0.766764
0.881779
1.014046
1.166152
1.341075
1.542237
1.773572
2.039608
2.345549
2.697381
3.101989
3.567287
4.102380
4.717737
5.425397
6.239207
7.175088
8.251351
9.489054
10.912412
12.549274
14.431665
16.596414
19.085877
21.948758
25.241072
29.027233
33.381317
38.388515
44.146792
50.768811
58.384133
67.141753
77.213016
88.794968
102.114213];

loss = [9.425967
9.439693
9.509818
9.300879
9.336720
9.393763
9.343253
9.576138
9.406916
9.293189
9.330493
9.450877
9.275469
9.364858
9.294230
9.354193
9.198556
9.332735
9.201710
9.271325
9.318599
9.324810
9.264390
9.236955
9.314440
9.447841
9.119853
9.243693
8.998019
9.182846
9.088514
9.050332
9.033275
9.115976
9.057989
8.893809
8.813449
8.789670
8.852576
8.742652
8.558857
8.512987
8.397315
8.494343
8.372561
8.033492
8.158726
7.986186
7.931750
7.798621
7.909764
7.927692
7.969201
7.549265
7.952233
7.173837
7.496094
7.217487
7.704148
6.898578
6.689129
7.262247
6.498806
6.727044
6.806740
7.373043
7.267910
6.441264
6.704252
6.590179
7.102577
7.395941
6.825772
6.968469
7.225345
7.023841
7.011456
7.516376
7.338934
8.105961
7.953804
8.433692
8.528806
8.377858
9.100385
9.236860
9.523836
10.261240
10.452896
10.597103
11.191203
11.271278
11.880593
12.192146
12.022007
11.508135
10.067358
9.239254
8.967139
9.396072];

sma = 1;
derivatives = (loss(1+sma:end) - loss(1:end-sma))/sma;
derivatives = filter(ones(1,5)/5,1,derivatives);
figure();
semilogx(lr, loss);
figure();
semilogx(lr(2:end), derivatives)
