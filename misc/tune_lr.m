clear

t = 1:99;
lr = [0.000100
0.000125
0.000156
0.000195
0.000244
0.000305
0.000381
0.000477
0.000596
0.000745
0.000931
0.001164
0.001455
0.001819
0.002274
0.002842
0.003553
0.004441
0.005551
0.006939
0.008674
0.010842
0.013553
0.016941
0.021176
0.026470
0.033087
0.041359
0.051699
0.064623
0.080779
0.100974
0.126218
0.157772
0.197215
0.246519
0.308149
0.385186
0.481482
0.601853
0.752316
0.940395
1.175494
1.469368
1.836710
2.295887
2.869859
3.587324
4.484155
5.605194];

loss = [2348.429932
2312.811279
2339.369873
2198.592041
2184.953613
2067.345459
2006.553955
2036.605835
1865.619141
1843.821289
1812.515259
1740.982544
1729.990723
1496.393921
1625.264282
1534.904297
1268.079102
1174.656128
1068.129883
1197.938965
1040.040039
1093.760986
1241.370972
939.970520
957.976624
1104.347412
901.410706
743.973755
784.214783
802.277771
874.459656
647.516113
754.355774
738.447693
687.954895
833.317627
840.769531
680.329346
499.324036
665.646729
624.914856
556.546021
535.708923
673.847717
636.230408
636.135376
620.860535
800.237793
696.309387
575.112061];

sma = 1;
derivatives = (loss(1+sma:end) - loss(1:end-sma))/sma;
derivatives = filter(ones(1,5)/5,1,derivatives);
figure();
semilogx(lr, loss);
figure();
semilogx(lr(2:end), derivatives)
